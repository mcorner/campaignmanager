
# RTB4FREE Campaign Manager


This project is a web application that allows users to define advertising campiagns used by the  
[RTB4FREE bidder](https://github.com/benmfaul/XRTB).
The campaigns bid on Open RTB requests from ad exchanges.
Winning bids, pixel impressions, clicks and cost events generated by the bidder are aggregated and presented.

Key Features are:

1. Supports multiple users with login authorization.
2. Define campaigns bidding for video and banner ads.  
   1. Campaign parameters
      1. Include mutiple banner/videos
      2. Date range
      3. Exchanges
      3. Hourly, daily, total budgets
      5. Complex matching rules
   1. Banner match parameters
      1. Bananer size - height/width
      2. Bid price
      3. Hourly, daily, total budgets
      4. Frequency limits
      5. Complex matching rules
   2. Video match paramters
      1. Video size and parameters
      2. VAST XML file with support for events  
      3. Hourly, daily, total budgets
      4. Frequency limits
5. Define targeting parameters
   1. Domain white/blacklists
   3. Device make, model, os
   4. IAB category inclusion/exclusion
   2. Test inclusion/exclusion in large list, ie IP, cookies, domain, etc.
   3. Map area for mobile phones
1. Build your own specialized rules if standard targetting is not sufficient.
2. Report summary metrics by campaign.
   1. Optionally, link reporting to [ELK](http://elastic.co).  stack
1. Easy deployment using Docker containers on Swarm.
2. Built using standard MySQL, Ruby and Ruby on Rails for easy customization and extensiblity.

To see sample screen shots or try a demo using Play with Docker, go [here](http://rtb4free.com),


## Deploy

Deploy as a standard [Rails 4.x application}(http://guides.rubyonrails.org/v4.2/).
Can also be deployed as a Docker container.
To try, use our Play with Docker playground [here](http://rtb4free.com),
or deploy in your own docker swarm using the following compose file.

```
version: '3'
services:
  db:
# build from mysql:5.7, adds schema and demo data
    image: ploh/mysqlrtb
# Uncomment if you want to expose your mysql ports
#    ports:
#    - "3306:3306"
    environment:
      - MYSQL_ROOT_PASSWORD=rtb4free
      - MYSQL_DATABASE=rtb4free
      - MYSQL_USER=ben
      - MYSQL_PASSWORD=test
  web:
    image: ploh/rtbadmin_open
    command: cron && bash -c "./wait_for_it.sh db:3306 --timeout=120; bundle exec rails s -p 3000 -b '0.0.0.0' -e production"
    ports:
      - "3000:3000"
    environment:
      - CUSTOMER_NAME=RTB4FREE           # Page Header label
      - RTB4FREE_DATABASE_HOST=db       
      - RTB4FREE_DATABASE_PORT=3306
      - RTB4FREE_DATABASE_USERNAME=ben
      - RTB4FREE_DATABASE_PASSWORD=test
      - RTB4FREE_DATABASE_NAME=rtb4free
      - ELASTICSEARCH_ENABLE=false       # Set to true to link Dashboard to ELK
      - ELASTICSEARCH_HOST=              # if enabled, set to ES host:port

```



## User Guide

* After install, load demo database with the command:
```
rake db:setup
```
* After starting the rails app, open a browser to the host.
* At the login screen, use id "demo@rtb4free.com" and password "rtb4free".
* On the left side menu, click on the Campaigns icon. You can examine how the demo campaign is defined.
* To define a new campaign,
  1. Add a new Campaign.
  2. Add a new Banner or Video
     - After parameters are defined, select the newly added campaign.
  3. Add a new Target.
  4. Return to the added Campaign, then select the newly added target.
  5. If a bidder is part of your configuration, after a campaign is updated it is automatically loaded into the RTB4FREE bidder.
* On the left side menu, click on the Users icon to define additional users.
* On the left side menu, click on the Dashboard icon to see defined Campaigns. Since campaign metrics are derived from Elasticsearch, you will not see metrics unless the [DMP](http://rtb4free.com) stack is deployed.


## Contact

Contact us at support@rtb4free.com
